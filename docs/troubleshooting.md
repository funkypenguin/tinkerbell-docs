---
title: Troubleshooting
date: 2019-05-05
---

# Troubleshooting

## General 

The following are possible errors you might run into and their possible solutions:

- If you are in an Equinix Metal environment and the worker is not set to always PXE, then you may encounter the following error.
  The issue can be resolved by setting the worker to always PXE from the server actions dropdown.

```text
PowerEdge R6415 - BIOS 1.8.7
A system restart is required.
The system detected an exception during the UEFI
pre-boot environment.
```

- On a provisioner, the registry login can fail with the error below.
  This is generally because the `/certs/ca.pem` file (generated by certs container) is not copied to `/etc/docker/certs.d/<registry-host>/ca.crt`.
  If the error occurs on a worker, then verify if the certificate file is present at `/var/tinkerbell/nginx/workflow/ca.pem` location on the provisioner.

```text
Login did not succeed, error: Error response from daemon: Get https://<registry-host>/v2/: x509: certificate signed by unknown authority (possibly because of "crypto/rsa: verification error" while trying to verify candidate authority certificate "Autogenerated CA")
```

## LinuxKit / Hook Environment

The Hook (OSIE) / LinuxKit environment can be complex to debug, due to the way the various steps are orchestrated. The following may be helpful in identifying issues:

1. Examine the contents of `/proc/cmdline`. The parameters passed on boot are used to progress the bootstrapping process, and an error can quickly be detected by reviewing the parameters.

2. Examine `/var/log/hook-docker.out.log` (*indicates basic success*) and (*for more details*) `/var/log/hook-docker.log` (*shows docker-in-docker daemon logs*.)

3. Examine `/var/log/hook-bootkit.log` - errors encountered in downloading tink-worker will appear here. `/var/log/hook-bootkit.out.log` will record stdout of the process of pulling the tink-worker image from the registry.

4. Run `docker ps -a`, to confirm that tink-worker is either running (*or errored*). The output of tink-worker can be shown by running `docker logs <container name>`.
